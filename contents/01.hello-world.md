# Hello World in C3

C3 is as easy as C, with almost zero surprise.

```c3
// hello.c3

import std::io;

fn void main()
{
    io::printf("Hello, world!\n");
}
```

```
$ c3c compile hello.c3
$ ./hello
Hello, world!
$
```

There's no `#include`. C3 has modules and packages to be imported.

`std::core` is implicitly imported, and functions/macros like `malloc(), free(), assert()` can be used without `import::core;`

`fn` keyword makes compiler to identify functions easier, and compiler runs faster.

There are print functions emitting new line by default.

 `io::printfn("%d: %s", i, arg)`


```c3
// args.c3

import std::io;

fn int main(String[] args) 
{
   io::printfn("Hello, world!");

   for (int i = 0; i < args.len; i++) {
        io::printfn("%d: %s", i, arg);
    }

    return 0;
}
```

```
$ c3c compile args.c3
$ ./args a B xx
Hello, world!
0: ./args
1: a
2: B
3: xx
$
```

`String[] args` are passed as parameters. Arrays have `.len` attribute.

```c3
// foreach.c3

import std::io;

fn int main(String[] args) 
{
   io::printfn("Hello, world!");

   foreach (i, arg : args) {
        io::printfn("%d: %s", i, arg);
    }

    return 0;
}
```

```
$ c3c compile foreach.c3
$ ./foreach a b c
Hello, world!
0: ./args
1: a
2: b
3: c
$
```

`foreach() { }` has following variants.

```c3
foreach (element: array) {
    // do somthing with element
}

foreach (index, element: array) {
    // do something with index and element
}

foreach (&element: array) {
    // do somthing with element
    *element = new_value; // update
}

foreach (index, &element: array) {
    // do something with index and element
    *element = new_value; // update
}
```

On Windows, GUI programs start with special WinMain function.

```c3
// Windows

import std::io;

fn void main() @winmain
{
    io::printfn("Hello, world!");
}
```

`@winmain` attribute is necessary for Windows GUI.


### File and module names

If a module name is specified, default compile produces an executable file with that module name.


```c3
// hello.c3

module mymain;

import std::io;

fn void main()
{
    io::printfn("Hello, world!");
}
```

```
$ c3c compile hello.c3
$ ./mymain
Hello, world!
$
```

If a `main()` containing file does not specify a module, then the filename become the module name. If filename contains non-underscore special chars, they are replaced with underscore `'_'`.


```c3
// hello-world+.c3

import std::io;

fn void main()
{
    io::printfn("Hello, world!");
}
```

```
$ c3c compile hello-world+.c3
$ ./hello_world_
Hello, world!
$
```

Module name cannot be a predefined keyword like 'fn', 'int' or 'void'.

