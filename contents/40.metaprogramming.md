# Metaprogramming


Metaprogramming is essentially writing code that writes or manipulates other code. In C3 language, we have following metaprogramming features.

* Generics
* Reflection
* Macros
* Compile time computing
* Include and exec

### Generics

In C3, generic types and generic functions are realized by generic modules.

A generic module is a module parameterized by one or more type markers, like `{T1, T2, ..}`, and all defitions in that module are accessed only by giving types respectively.

```c3
module m1; // unparameterized module

struct S {  } // Error: struct name must have 2+ chars, starting with upper char
int I; // Error: only const var can have all upper chars 

struct MyStr { }
interface MyIfc { }
const int I_CONST = 0;
int ivar;
fn void func() { }
fn void MyStr.method(&self) { }

module m0 {X, Y}; // Error: type parameter name must have 2 or more chars, starting with upper char

module m2 {Type1, Type2}; // parameterized module

struct MyStr { }
interface MyIfc { }
const int I_CONST = 0;
int ivar;
fn void func(Type2 arg) { }
fn void MyStr.method(&self, Type1* p) { }
```
```
// m1.c3

import m1;

fn void main()
{
    MyStr a;
    MtIfc b;
    ivar = I_CONST;
    func();
    a.method();
}

// m2.c3

import m2;

fn void main()
{
    MyStr a; // Error: there can be a lot of different MyStr's exist. Must specify which, by giving parameter
    MyStr {char, int*} a;
    MyIfc {int, bool} b;
    ivar {int, char} = I_CONST {int, int}
}
```
}
