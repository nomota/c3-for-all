# Memory Safety

There are a lot of intrinsic memory related vulnerability in C, which is inherited to C3. C3 provides various ways to work around.

### Buffer overflow


Pointer arithmetic is a notorious source of buffer overflow. It's not easily detected by default compilation.

```
// bufferoverflow1.c3
fn void main()
{
    char* buffer = malloc(char.sizeof * 10);
    char* p = buffer + 20;
    *p = 'A'; // ERROR, undefined behavior
}

$ c3c compile bufferoverflow1.c3
$ ./bufferoverflow1
$     (No error!!)
```

An address sanitizer can be attached  by the compiler with `--sanitize=address` flag.

```
$ c3c compile bufferoverflow1.c3 --sanitize=address
$ ./bufferoverflow1
...

==2433408==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x502000000024 ...
... 
```